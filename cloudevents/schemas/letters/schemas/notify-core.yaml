---
asyncapi: '3.0.0'
info:
  title: NHS Notify Letter Events
  version: 1.0.0
  description: Events generated by the letters bounded context
defaultContentType: application/json

channels:
  data-plane:
    title: Data Plane
    description: Events relating to message delivery
    messages:
      letter-request-prepared:
        $ref: '#/components/messages/letter-request-prepared'

components:
  messages:
    letter-request-prepared:
      name: letter-request-prepared
      title: Letter Request Prepared
      summary: |
        A letter request has been prepared for dispatch.

        This indicates that a letter has been requested and assigned to a supplier for printing and posting.
      contentType: application/json
      payload:
        allOf:
          - $ref: '../../common/nhs-notify-profile.schema.json'
          - $ref: './events/letter-request-prepared.yaml'
      examples:
        - payload:
            $ref: './examples/letter-request-prepared.json'
